{"createdAt":"2025-07-23T09:28:16.521Z","updatedAt":"2025-07-24T07:17:08.000Z","id":"p07JPwtHxdQ7XGxs","name":"browser Agent","active":false,"isArchived":false,"nodes":[{"parameters":{"resource":"extraction","operation":"query","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \"The `windowId` returned by the `Start_Browser` tool\", 'string') }}","prompt":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Prompt', ``, 'string') }}","additionalFields":{}},"id":"78be832b-8b42-41e3-b4ee-e2c3c6cbfc5a","name":"Query","type":"n8n-nodes-base.airtopTool","position":[720,280],"typeVersion":1,"credentials":{"airtopApi":{"id":"3TjsnixprhXZT1vu","name":"Airtop account"}}},{"parameters":{"resource":"window","operation":"load","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \"The `windowId` returned by the `Start_Browser` tool\", 'string') }}","url":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}","additionalFields":{}},"id":"d9fb150b-d335-49f9-a331-34100a3a7679","name":"Load URL","type":"n8n-nodes-base.airtopTool","position":[840,280],"typeVersion":1,"credentials":{"airtopApi":{"id":"3TjsnixprhXZT1vu","name":"Airtop account"}}},{"parameters":{"resource":"interaction","operation":"type","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \"The `windowId` returned by the `Start_Browser` tool\", 'string') }}","text":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Text', ``, 'string') }}","pressEnterKey":true,"elementDescription":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', `Search bars usually contain a placeholder that says \"search\"`, 'string') }}","additionalFields":{}},"id":"7ea6464f-7033-4e6d-ba62-94c6623c1c4d","name":"Type","type":"n8n-nodes-base.airtopTool","position":[600,280],"typeVersion":1,"alwaysOutputData":true,"credentials":{"airtopApi":{"id":"3TjsnixprhXZT1vu","name":"Airtop account"}}},{"parameters":{"profileName":"={{ $json.profile_name }}","proxy":"integrated","proxyConfig":{"country":"JP","sticky":true},"additionalFields":{}},"id":"76bb0ec2-079f-4aaa-8f39-c484c53aa74e","name":"Session","type":"n8n-nodes-base.airtop","position":[320,500],"typeVersion":1,"credentials":{"airtopApi":{"id":"3TjsnixprhXZT1vu","name":"Airtop account"}}},{"parameters":{"resource":"window","url":"={{ $('When Executed by Another Workflow').item.json.url }}","getLiveView":true,"additionalFields":{}},"id":"a88d475f-7049-45c0-8d61-444a79295437","name":"Window","type":"n8n-nodes-base.airtop","position":[500,500],"typeVersion":1,"credentials":{"airtopApi":{"id":"3TjsnixprhXZT1vu","name":"Airtop account"}}},{"parameters":{"assignments":{"assignments":[{"id":"0a0680af-39bd-4bc7-b9cd-84c1766c79a1","name":"sessionId","type":"string","value":"={{ $('Session').item.json.sessionId }}"},{"id":"13940ee8-c1d4-4718-a7b4-176c44c097b7","name":"windowId","type":"string","value":"={{ $('Window').item.json.data.windowId }}"},{"id":"a0f2005c-2cd2-4a8d-891b-a4759b72a124","name":"output","type":"string","value":"Session and window created successfully"}]},"options":{}},"id":"828faebd-dc07-4be6-a07a-abd6da51fd17","name":"Return IDs","type":"n8n-nodes-base.set","position":[860,500],"typeVersion":3.4},{"parameters":{"workflowInputs":{"values":[{"name":"url"},{"name":"profile_name"}]}},"id":"8ca77689-3e1e-4a44-830c-8543db589783","name":"When Executed by Another Workflow","type":"n8n-nodes-base.executeWorkflowTrigger","position":[140,500],"typeVersion":1.1},{"parameters":{"name":"Start_Browser","description":"Start a new browser session and window","workflowId":{"__rl":true,"value":"p07JPwtHxdQ7XGxs","mode":"list","cachedResultName":"browser Agent"},"workflowInputs":{"mappingMode":"defineBelow","value":{"url":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('url', ``, 'string') }}","profile_name":"=RikuUhcida"},"matchingColumns":[],"schema":[{"id":"url","displayName":"url","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"},{"id":"profile_name","displayName":"profile_name","required":false,"defaultMatch":false,"display":true,"canBeUsedToMatch":true,"type":"string"}],"attemptToConvertTypes":false,"convertFieldsToString":false}},"id":"25407350-b51f-4356-9c20-321477c70d24","name":"Start Browser","type":"@n8n/n8n-nodes-langchain.toolWorkflow","position":[360,280],"typeVersion":2.1},{"parameters":{"options":{}},"type":"@n8n/n8n-nodes-langchain.chatTrigger","typeVersion":1.1,"position":[400,20],"id":"aed276ac-bec5-4c47-aca3-110600671bab","name":"When chat message received","webhookId":"5098f362-c62a-4b7b-9370-0129f90e8553"},{"parameters":{"operation":"terminate","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}"},"id":"3b60b8cf-21db-4e64-9dd5-6371492d7eef","name":"End Session","type":"n8n-nodes-base.airtopTool","position":[960,280],"typeVersion":1,"credentials":{"airtopApi":{"id":"3TjsnixprhXZT1vu","name":"Airtop account"}}},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.toolThink","typeVersion":1,"position":[140,280],"id":"fa71f729-6f0f-423a-b866-6095abc626bb","name":"Think"},{"parameters":{"options":{"systemMessage":"=# 概要\nあなたは、リモートのウェブブラウザを操作できるツールに接続された、スマートで高度なウェブエージェントです。あなたの主な目標は、ツールを使用してウェブページと対話することにより、人間の要求を正確かつ効率的に満たすことです。\n\n## ツール\n\n### Start_Browser (ブラウザ起動)\n- 常にこのツールから開始してください。\n- このツールは `sessionId` と `windowId` を返します。これらは他のすべてのツールで**必須**です。\n- 後続のすべてのツール呼び出しにこれらのIDを含める必要があります。\n\n### Load URL (URL読み込み)\n- ブラウザウィンドウにウェブサイトを読み込みます。\n- `sessionId`、`windowId`、および目的のURL（例：`\"https://www.bestbuy.com\"`）を渡します。\n\n### Query (クエリ)\n- ブラウザ画面にアクセスすることはできませんが、このツールを呼び出して現在のブラウザウィンドウの知識やヒントを取得できます。\n- 人間が要求した情報を取得するためにこのツールを使用します。\n\n### Click Tool\n- ボタンなどの要素をクリックするためにこのツールを使用します。\n\n### Type (入力)\n- 表示されている入力フィールドにテキストを入力するためにこれを使用します。このツールはテキストを入力した後にEnterキーを押すので、`[ENTER]` コマンドを送信しないでください。\n\n### End Session (セッション終了)\n- タスクが完全に完了したら、ブラウザセッションを適切に閉じるためにこのツールを使用してください。\n- 人間に応答する前に、常にこのツールを使用する必要があります。\n\n### Scroll on page in Airtop\n- ブラウザ画面をスクロールするために、このツールを使います。\n\n### Think (思考)\n- 実行した内容を振り返り、次に取るべき手順を考える必要がある場合に使用します。\n\n## 重要\n- 常にステップバイステップで考えてください。画面に何があるか、次に何をクリック/入力すべきか不明な場合は、常に `Query` を使用してください。\n- ログインする必要は**決して**ありません。","maxIterations":20,"returnIntermediateSteps":false,"passthroughBinaryImages":true}},"id":"db05b573-dce6-48e7-a9e7-e73e90a4972e","name":"Browser Agent","type":"@n8n/n8n-nodes-langchain.agent","position":[580,20],"retryOnFail":true,"typeVersion":1.8,"waitBetweenTries":5000},{"parameters":{"content":"# Browser Agent\n","height":240,"width":760,"color":4},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[320,-60],"id":"66277d16-19c5-49e5-8af2-3d3a994fb946","name":"Sticky Note"},{"parameters":{"content":"## Browser Tools\n","height":220,"width":960,"color":5},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[320,200],"id":"d02102b0-45e9-429f-a349-8b6d60149638","name":"Sticky Note1"},{"parameters":{"content":"## Think","height":220,"width":260},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[40,200],"id":"150c1ba5-ce5e-4810-8dda-ec6dd4e79cad","name":"Sticky Note2"},{"parameters":{"content":"## Model / Memory","height":240,"width":260,"color":7},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[40,-60],"id":"2a0184b9-d35a-414e-9e55-8baca01e5513","name":"Sticky Note3"},{"parameters":{"content":"","height":200,"width":160,"color":7},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[1500,340],"id":"327cc897-0cec-4a82-8b82-3327b3e0fac9","name":"Sticky Note4"},{"parameters":{"content":"## Start Browser Tool","height":240,"width":1040,"color":6},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[40,440],"id":"faa58a3c-4ec6-4350-9e44-a8ebc78b95c5","name":"Sticky Note5"},{"parameters":{},"type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","typeVersion":1.3,"position":[180,40],"id":"764446bc-a40a-40fe-92c0-c36d4658c948","name":"Memory"},{"parameters":{"resource":"interaction","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', \"The `sessionId` returned by the `Start_Browser` tool\", 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', \"The `windowId` returned by the `Start_Browser` tool\", 'string') }}","elementDescription":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', `Describe in detail the element to click on, e.g. The menu item \"about us\" at the top of the page`, 'string') }}","additionalFields":{"waitForNavigation":"domcontentloaded"}},"id":"5a19d807-90ef-4f87-a882-8bea8e042e5d","name":"ClickTool","type":"n8n-nodes-base.airtopTool","position":[480,280],"typeVersion":1,"alwaysOutputData":true,"credentials":{"airtopApi":{"id":"3TjsnixprhXZT1vu","name":"Airtop account"}}},{"parameters":{"toolDescription":"Use this tool to click on an element","method":"POST","url":"=https://api.airtop.ai/api/v1/sessions/{{ $fromAI('sessionId') }}/windows/{{ $fromAI('windowId') }}/click","authentication":"genericCredentialType","genericAuthType":"httpHeaderAuth","sendBody":true,"bodyParameters":{"parameters":[{"name":"elementDescription","value":"={{ $fromAI('elementDescription', `the element to click on in as much detail as possible`, 'string') }}"}]},"options":{}},"type":"n8n-nodes-base.httpRequestTool","typeVersion":4.2,"position":[1540,180],"id":"4601180d-423e-455c-82b6-d41f63dfe47a","name":"Click","credentials":{"httpHeaderAuth":{"id":"DFida4ko9mtk5ObN","name":"OpenAI-HeaderAuth"}}},{"parameters":{"content":"## 🛠️ セットアップガイド\n### 👤 著者: [Nate Herk](https://www.youtube.com/@nateherk)\n\n### 🔌 接続手順:\n1. **Airtopのセットアップ**\n    - [Airtop](https://www.airtop.ai/) にアクセスしてAPIキーを生成し、Airtopツール/ノードに接続します。\n    - クレデンシャル（X、LinkedIn、Amazonなどのウェブサイトを自動化する場合）を含むプロファイルを設定します。\n    - 「Start Browser」ツールでプロファイルを接続します。\n    - 💸 クーポンコード **`NateHalfOff`** を使用すると、Airtopが**3ヶ月間50%オフ**になります。\n\n2. **OpenRouter APIキー**\n    - [OpenRouter](https://openrouter.ai/) にアクセスしてAPIキーを生成します。\n    - このキーをn8nの**Chat Model**ノードに貼り付けます。\n\n3. **Start Browserツールのセットアップ**\n    - **Start Browserワークフロー**を**Start Browserツール**にリンクします。\n        - **ID方式**（YouTubeビデオで説明）を使用してリンクするか、\n        - **Start Browserツール**ワークフローを別のn8nワークフローに貼り付けて直接リンクします。\n\n4. **(オプション) ライブエージェントブラウザビュー**\n    - 以下の追加サービスを接続できます。\n        - [Slack](https://slack.com/)\n        - [Telegram](https://telegram.org/)\n        - [Gmail](https://mail.google.com/)\n    - これにより、エージェントが自動化を実行中に**ライブブラウザリンクを受け取る**ことができます。\n\n---\n💡 困った時は、[AI Automation Society Community](https://www.skool.com/ai-automation-society/about) で質問するか、Nateの[YouTubeチュートリアル](https://www.youtube.com/@nateherk) を確認してください。","height":740,"width":660},"type":"n8n-nodes-base.stickyNote","typeVersion":1,"position":[-660,-60],"id":"69c54589-d2d2-4dfd-860e-0fd4a568e4b0","name":"Sticky Note6"},{"parameters":{"modelName":"models/gemini-2.5-flash","options":{}},"type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","typeVersion":1,"position":[60,40],"id":"34c1e39f-fddc-4dbe-8142-9b5bae05c2a9","name":"Google Gemini Chat Model","credentials":{"googlePalmApi":{"id":"NMm1O0ZYMrpQVDiG","name":"Google Gemini(PaLM) Api account 9"}}},{"parameters":{"authentication":"oAuth2","select":"user","user":{"__rl":true,"value":"U07ES0UCL95","mode":"list","cachedResultName":"ruchida"},"text":"=Watch your agent work!\n\n{{ $json.data.liveViewUrl }}","otherOptions":{"includeLinkToWorkflow":false}},"id":"4e043781-5760-4bba-8155-567d246d71d1","name":"Send a message","type":"n8n-nodes-base.slack","position":[680,500],"webhookId":"72d47d9c-6860-4248-8e83-7790264fdaf2","typeVersion":2.3,"credentials":{"slackOAuth2Api":{"id":"Yij6pb8FycZpB7Wg","name":"Slack account"}}},{"parameters":{"resource":"interaction","operation":"scroll","sessionId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Session_ID', ``, 'string') }}","windowId":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Window_ID', ``, 'string') }}","scrollToElement":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Element_Description', ``, 'string') }}","scrollWithin":"={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Scrollable_Area', ``, 'string') }}","additionalFields":{}},"type":"n8n-nodes-base.airtopTool","typeVersion":1,"position":[1140,280],"id":"586b7cf6-0a6a-4c7b-9638-c62ad9e76a64","name":"Scroll on page in Airtop","credentials":{"airtopApi":{"id":"3TjsnixprhXZT1vu","name":"Airtop account"}}}],"connections":{"Type":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"Query":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"Window":{"main":[[{"node":"Send a message","type":"main","index":0}]]},"Session":{"main":[[{"node":"Window","type":"main","index":0}]]},"Load URL":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"When Executed by Another Workflow":{"main":[[{"node":"Session","type":"main","index":0}]]},"Start Browser":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"When chat message received":{"main":[[{"node":"Browser Agent","type":"main","index":0}]]},"End Session":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"Think":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"Memory":{"ai_memory":[[{"node":"Browser Agent","type":"ai_memory","index":0}]]},"Click":{"ai_tool":[[]]},"Google Gemini Chat Model":{"ai_languageModel":[[{"node":"Browser Agent","type":"ai_languageModel","index":0}]]},"Send a message":{"main":[[{"node":"Return IDs","type":"main","index":0}]]},"Scroll on page in Airtop":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]},"ClickTool":{"ai_tool":[[{"node":"Browser Agent","type":"ai_tool","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":null,"meta":{"templateCredsSetupCompleted":true},"pinData":{},"versionId":"133b5126-8ed5-4d42-bbda-380fd2ecd6ec","triggerCount":0,"tags":[]}